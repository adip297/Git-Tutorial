utility function for 3.1